%
% Language- and linguistic-related file
%
% Provides commands and environments useful for 
% language assignments and presentations
%
% NB This was moved to inscription.sty
% titlepage{<title>}{<subtitle>}{<author>}
%   ->  This command provides a title page.  For use at the
%       front of the document.  Subject to refinement.
%
% dictentry{<lhs>}{<rhs>}
%   ->  This command simplifies the generation of dictionary-
%       style entries without the use of tables.
%
% verbchart{<verb>}{<tense>}{<voice>}{<mood>}
%   -> This environment will set up a verb chart for conjugating
%      a noun; all args mandatory
%
% nounchart{<noun>}{<gender>}{<declension>}
%   -> This environment sets up a noun chart for declining
%      a noun (or an adjective, I suppose); all args 
%      mandatory (NEEDS CHANGING)
%
% nounphrasechart{<noun>}{<gender>}{<noun declension>}{<adjective>}{<adj declension>}
%   -> This environment sets up a chart for declining a noun
%      and an adjective together as a phrase; all args
%      mandatory (ALSO NEEDS CHANGING)

\NeedsTeXFormat{LaTeX2e}[1996/06/01]
\ProvidesPackage{linguistics}[Capiar Linguistics resources]

\RequirePackage{
  environ,
  multicol,
}

\newcommand{\dictentry}[2]{
  \makebox[\linewidth]{
    \noindent\begin{minipage}[c][][c]{0.66\linewidth}
      \raggedright
      \textbf{ #1 }
    \end{minipage}
    \dotfill
    \begin{minipage}[c][][c]{0.33\hsize}
      \raggedleft
      { #2 }
    \end{minipage}
  }

  \vspace{1ex}
}

% Environments
\NewEnviron{refchart}{
  \begin{center}
    \renewcommand{\arraystretch}{2}
    \taburowcolors 2{black!10 .. white}
    \begin{tabu}to \linewidth {lX[r]}
      \BODY
    \end{tabu}
  \end{center}
}

\NewEnviron{verbchart}[4]{
  \begin{center}
    \pagebreak[3]
    \vspace{3ex}\pagebreak[3]
    \renewcommand{\arraystretch}{1.25}
    \setlength{\tabcolsep}{4pt}
    \begin{tabu}to \textwidth {X[0.7,l]X[0.8,c]X[0.6,r]}
      \multicolumn{3}{l}{\textbf{#1}} \\
      Tense: {#2} & Mood: {#4} & Voice: {#3} \\ 
    \end{tabu}
  \end{center}
  \nopagebreak[4]
  \vspace{-1ex}\nopagebreak[4]
  \begin{center}
    \textsf{
      \begin{tabu}to \textwidth {|X[c]|X[2.5,l]|X[2.5,l]|}
        \hline
        & \textbf{Singular} & \textbf{Plural} \\
        \hline
        \BODY
      \end{tabu}
      \vspace{3ex}\pagebreak[3]
      \pagebreak[3]
    }
  \end{center}
}

\NewEnviron{nounchart}[3]{
  \begin{center}
    \setlength{\tabcolsep}{4pt}
    \begin{tabu} to \textwidth {X[1.1,l]X[r]}
      \textbf{{#1}},  {#2}. & {#3} declension \\ 
    \end{tabu}
  \end{center}

  \vspace{-1em}
  \begin{center}
    \textsf{
      \begin{tabu}to \textwidth {|X[c]|X[1.2,l]|X[1.2,l]|}
        \hline
        & \textbf{Singular} & \textbf{Plural} \\
        \hline
        \BODY
      \end{tabu} 
      \vspace{3em}
    }
  \end{center}
}

\NewEnviron{nounphrase}[5]{
  \begin{center}
    \setlength{\tabcolsep}{4pt}
    \begin{tabu} to \textwidth {X[1.2,l]X[c]X[1.2,c]X[r]}
      \textit{{#1}},  {#2}. & {#3} declension & \textit{{#4}} & {#5} declension \\ 
    \end{tabu}
  \end{center}

  \vspace{-1em}
  \begin{center}
    \textsf{
      \begin{tabu} to \textwidth {|X[c]|X[1.2,l]|X[1.2,l]|}
        \hline
        \hfill & \textbf{Singular} & \textbf{Plural} \\
        \hline
        \BODY
      \end{tabu}
      \vspace{3em}
    }
  \end{center}
}

\NewEnviron{pronounchart}[1]{
  \begin{center}
    \setlength{\tabcolsep}{4pt}
    \begin{tabu} to \textwidth {X[l]}
      \textbf{{#1}}\\
    \end{tabu}
  \end{center}

  \vspace{-1em}
  \begin{center}
    \textsf{
      \begin{tabu}to \textwidth {|X[c]|X[1.2,l]|X[1.2,l]|X[1.2,l]|}
        \hline
        & \textbf{Masculine} & \textbf{Feminine} & \textbf{Neuter} \\
        \hline
        \BODY
      \end{tabu} 
      \vspace{3em}
    }
  \end{center}
}

\endinput
