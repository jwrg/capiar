%
% Letter-writing macros
%
% Provides some commands useful for authoring letters.
% NB. Commands specific to writing cover letters can be
% found in res/macro/cletter.tex
%

\NeedsTeXFormat{LaTeX2e}[1994/06/01]
\ProvidesPackage{coverletter}[2019/11/03 Capiar Cover letter resources]

\RequirePackage{
  etoolbox,   % helper commands (i.e., ifdefempty)
}

\newcommand{\postingsource}{\ifdefempty{\source}{}{ as posted on \source{}}}

% Commands to be used in the letter body
\newcommand{\address}{
  \textcolor{pink}{
  \begin{raggedleft}
      \textcolor{purple}{\sender{}} \\
      \street{} \\
      \city{} \\
      \locality{} \\
      \phone{} \\
      \email{} \\
  \end{raggedleft}}
  }

\newcommand{\opening}[1][Dear]{
  \begin{raggedleft}
    \vspace{1em}
    \textcolor{purple}{\today{}} \\
    \vspace{3em}
  \end{raggedleft}
  
  \begin{raggedright}
    \textcolor{purple}{\recipient{}} \\
    \textcolor{pink}{\company{}}  \\
    \vspace{3em}
    \textcolor{grey}{{#1} \recipient{}}, \\
    \vspace{2em}
  \end{raggedright}
}

\newcommand{\closing}[1][Sincerely,]{
  \begin{raggedright}
    \vspace{3em}
    {#1}\\
    \vspace{3em}
    \textcolor{grey}{\sender{}}
    \vspace{6em}
  \end{raggedright}
}

\endinput
